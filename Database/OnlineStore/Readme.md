# `База данных "Интернет-магазин книг"`

В интернет-магазине продаются книги. Каждая книга имеет название, написана одним автором, относится к одному жанру, имеет определенную цену. 
В магазине в наличии есть несколько экземпляров каждой книги.

Покупатель регистрируется на сайте интернет-магазина, задает свое имя и фамилию, электронную почту и город проживания. 
Он может сформировать один или несколько заказов, для каждого заказа написать какие-то пожелания. Каждый заказ включает одну или несколько книг, 
каждую книгу можно заказать в нескольких экземплярах. 
Затем заказ проходит ряд последовательных этапов (операций):
1. оплачивается
2. упаковывается
3. передается курьеру или транспортной компании для транспортировки
4. доставляется покупателю. 

Фиксируется дата каждой операции. Для каждого города известно среднее время доставки книг.

При этом в магазине ведется учет книг, при покупке их количество уменьшается, при поступлении товара увеличивается, при исчерпании количества – оформляется заказ и пр.
________________________
## Проектирование концептуальной модели базы данных
### Шаг 1: 
#### <u>*Детально проанализировать предметную область и выделить те информационные объекты, которые будут храниться в базе данных</u> (`ВЫДЕЛЕНЫ`):*

В интернет-магазине продаются `КНИГИ`. Каждая книга имеет название, написана одним `АВТОРОМ`, относится к одному `ЖАНРУ`, имеет определенную цену. 
В магазине в наличии есть несколько экземпляров каждой книги.

`ПОКУПАТЕЛЬ` регистрируется на сайте интернет-магазина, задает свое имя и фамилию,  электронную почту и `ГОРОД` проживания (для упрощения считаем, 
что человек не может поменять свой город проживания). Он может сформировать один или несколько `ЗАКАЗОВ`, для каждого заказа написать 
какие-то пожелания. Каждый заказ включает одну или несколько книг, каждую книгу можно заказать в нескольких экземплярах. 
Затем заказ проходит ряд последовательных `ЭТАПОВ` (операций): оплачивается, упаковывается, передается курьеру или транспортной компании 
для транспортировки и, наконец, доставляется покупателю. Фиксируется дата каждой операции. Для каждого города известно среднее 
время доставки книг.

При этом в магазине ведется учет книг, при покупке их количество уменьшается, при поступлении товара увеличивается, 
при исчерпании количества – оформляется заказ и пр.

### Шаг 2:
#### <u>*Для каждого выделенного информационного объекта указать его характеристики*</u>

**1. Сначала выделить их в описании предметной области (<u>`подчеркнуто`</u>):**

В интернет-магазине продаются `КНИГИ`. Каждая книга имеет <u>`название`</u>, написана одним `АВТОРОМ`, относится к одному `ЖАНРУ`, 
имеет определенную <u>`цену`</u>. В магазине в наличии есть <u>`несколько экземпляров`</u> каждой книги.

`ПОКУПАТЕЛЬ` регистрируется на сайте интернет-магазина, задает свое <u>`имя и фамилию`</u>, <u>`электронную почту`</u> и `ГОРОД` проживания. 
Он может сформировать один или несколько `ЗАКАЗОВ`, для каждого заказа написать какие-то <u>`пожелания`</u>. Каждый заказ включает <u>`одну 
или несколько книг`</u>, каждую книгу можно заказать <u>`в нескольких экземплярах`</u>. Затем заказ проходит ряд последовательных 
`ЭТАПОВ`(операций): оплачивается, упаковывается, передается курьеру или транспортной компании для транспортировки и, наконец, 
доставляется покупателю. Фиксируется <u>`дата каждой операции`</u>. Для каждого `ГОРОДА` известно <u>`среднее время доставки книг`</u>.

При этом в магазине ведется учет книг, при покупке их количество уменьшается, при поступлении товара увеличивается, 
при исчерпании количества – оформляется заказ и пр.

**2. Затем связать их с информационным объектом:**

- **КНИГА** – `название`, `количество`, `цена`;
- **АВТОР** – `фамилия и инициалы`;
- **ЖАНР** – `название`;
- **ПОКУПАТЕЛЬ** (клиент) – `фамилия и имя`, `электронная почта`;
- **ГОРОД** – `название`, `среднее время доставки`;
- **ЗАКАЗ** – `код заказа`, `пожелания`;
- **ЭТАП** – `название этапов`.

**3. Перечислить характеристики, которые остались не привязанными к информационным объектам 
(к ним необходимо вернуться при реализации связей между таблицами):**

- `книги в заказе`
- `количество книг в заказе`;
- `дата каждой операции`


### Шаг 3:
#### <u>*Нарисовать схему, на которой изобразить информационные объекты в виде прямоугольников:*</u>





Шаг 4. Установить связи между информационными объектами. Связь «один ко многим» обозначить в виде →, «многие ко многим» –  ↔.

Каждая книга написана одним автором, каждый автор написал несколько книг, следовательно между этими таблицами связь «один ко многим»:


Каждая книга может включаться в несколько заказов, один заказ может содержать несколько книг, между этими таблицами связь «многие ко многим»:


Каждый клиент может сформировать несколько заказов, каждый заказ формируется только одним клиентом:
